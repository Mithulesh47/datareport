<div class="chart-container">
    <h2 class="chart-heading">Area-Wise Project Chart</h2>

    <div class="carousel-container" *ngIf="areas.length > 0">
        <div class="carousel-navigation">
            <button mat-icon-button color="primary" (click)="prevArea()" [disabled]="areas.length <= 1">
                <mat-icon>arrow_back</mat-icon>
            </button>

            <span class="area-counter">{{ currentAreaIndex + 1 }} / {{ areas.length }}</span>

            <button mat-icon-button color="primary" (click)="nextArea()" [disabled]="areas.length <= 1">
                <mat-icon>arrow_forward</mat-icon>
            </button>
        </div>

        <mat-card class="chart-card">
            <mat-card-header class="centered-header">
                <mat-card-title>{{ getCurrentAreaName() }} Projects</mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <!-- Apply dynamic height to the chart container -->
                <div class="chart-wrapper" *ngIf="hasProjects()" [ngStyle]="getChartContainerStyle()">
                    <canvas baseChart [type]="barChartType" [data]="getChartData(areas[currentAreaIndex].projects)"
                        [options]="chartOptions" [plugins]="[ChartDataLabels]">
                    </canvas>
                </div>

                <p *ngIf="!hasProjects() && areas.length > 0 && currentAreaIndex < areas.length"
                    class="no-projects-message">
                    No projects found in this area.
                </p>
            </mat-card-content>
        </mat-card>
    </div>

    <div *ngIf="areas.length === 0" class="loading-message">
        Loading areas and projects...
    </div>
</div>